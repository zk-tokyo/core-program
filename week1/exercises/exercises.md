演習問題

1.

ユースケース：トラストレスなオンライン匿名投票システム

有権者が自分の身元を明かすことなく、投票資格があること（例：一人一票であること）を証明し、投票内容を秘匿したまま投票できるシステム。ブロックチェーン上で票を集計することで、透明性と耐改ざん性を確保する。


採用すべき方式：FRI-STARK 

投票システムにおいて最も重要な要件は、信頼性と透明性である。FRI-STARKはtransparentセットアップを採用している点が、このユースケースに最適である。

Groth16やPlonkが要求するtrusted setupは、初期設定時にランダムビットと呼ばれる秘密情報を生成する必要があり、これが漏洩すると偽の証明が作成可能になるリスクがあることから、一般ユーザーの安全な管理の可能性と、公開される投票システムにおいて特定の関係者を信頼しなければならないという要件は、システムの要件を著しく損なうと考える。

表によると、FRI-STARKの証明サイズは100kB、検証時間は10msであり、Groth16などと比較すると大きいものの、オンライン投票のようなユースケースでは十分に実用的だと考える。特に、検証時間が比較的短いため、多数の票を効率的に集計することが可能である。


2. 
設問2：実用化されているZKアプリケーションを一つ見つけて、以下の3つのドメインに何が採用されているのかURLとともに答えてください。
a) ドメイン固有言語
b) SNARKフレンドリな形式
c) バックエンド証明器

設問3 (+α)：2で採用されている方法にはどんな特徴があるか説明してください。

---
アプリケーション：Zcash

URL: https://z.cash/
Repo: https://github.com/zcash/zcash

a) ドメイン固有言語 (Domain-Specific Language)

Rustをベースにしたライブラリやフレームワーク（bellman、およびHalo 2のライブラリ群(Halo 2証明システムのための回路（Circuit）を記述する際に使われるRustのAPI))。

特徴
ZcashはRustを採用。これにより、CircomのようなDSLよりも複雑なロジックを実装できるほか、Rustが持つメモリ安全性の恩恵を受けられる。暗号通貨のような高い信頼性が求められるアプリケーションにおいて、堅牢な開発が可能となる。

b) SNARKフレンドリな形式 (SNARK-friendly format)

採用技術: Plonk Arithmetization (Plonkish Arithmetization)

特徴
これは、資料で紹介されているR1CS を発展させた形式。Plonk形式は、回路の制約をより柔軟に表現でき、特に「カスタムゲート」と呼ばれる特定の計算を効率化する仕組みを導入できる。また、この形式はユニバーサルなセットアップと相性が良く、一度セットアップを行えば、同じサイズの異なるプログラム（回路）で再利用できるという利点がある 。

c) バックエンド証明器 (Backend Prover)

採用技術: Halo 2

特徴
Halo 2の最大の特徴は、trusted setupを不要にした点。資料ではセットアップを「Trusted」「Universal Trusted」「Transparent」に分類しているが 、Halo 2はこの分類における「Transparent」を実現する。これは再帰的証明（Recursive Proofs）という技術を用いて実現されており、証明自体が別の証明を検証することができる。これにより、セットアップに伴う潜在的なリスクを排除し、システムの信頼性を飛躍的に向上させている。
