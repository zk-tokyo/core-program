## 1. QAPのトレースがなぜ加算ゲートの出力を記録しなくてもいいのか、理由を説明してください。

加算は線形結合で、その場で計算できるから。一方、乗算は $L\times R-O=0$ が成り立つかを計算する場合、$L\times R$ と $O$ との次数が合わないので計算できなくなってしまう。なので、乗算ゲートの出力は記録する必要がある。

---

## 2. 講義で紹介された算術回路とセレクター多項式をもとにマスター多項式 $p(x)$ と商多項式 $q(x)$ を一つ考えてください。

$(w_1,w_2,\ldots ,w_6)=(1,2,\ldots ,6)$ とする。p.18 から$L(x),R(x),O(x)$ を計算すると、
$$
\begin{align*}
L(x)&=x^2+5x+1 \cr
R(x)&=5x^2+4x+2 \cr
O(x)&=6x^2+5x+3
\end{align*}
$$
となる。よって、マスター多項式 $p(x)=L(x)R(x)-O(x)$ は次のようになる。
$$
p(x)=5x^4+x^3+2x+6
$$
次に、消失多項式 $V(x)$ は
$$
V(x)=(x-2)(x-4)(x-1)=x^3-1\equiv x^3+6
$$
となり、$p(x)=V(x)q(x)$ から、
$$
\begin{align*}
5x^4+x^3+2x+6&=V(x)q(x) \cr
 &=(x^3+6)(ax+b) \cr
 &= ax^4+bx^3+6ax+6b
\end{align*}
$$
両辺の係数を比較して $a,b$ を求めると、$q(x)=5x+1$ となる。

---

## 3. Linear PCPベースのSNARKとGroth16がどのような安全性仮定に基づいているか説明してください。
- KoE Assumption
  - $L(x),R(x),O(x)$ が線形結合で構成されており、$L(x)R(x)-O(x)=V(x)q(x)$ となるように適当につくられた多項式ではないということを保証す。

