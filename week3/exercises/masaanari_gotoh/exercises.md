## 1) SNARK とは … ARgument of Knowledge（p.7）を指しますが、なぜ「証明」であるのに “argument” と表現しているのでしょうか？”proof” と “argument” の違いを調べて説明してみましょう。
proofの意味する証明とは「命題が真であること」の証明であるのに対し，argumentの意味する証明とは「命題が真となる知識を知っていること」の証明である．SNARKにおける証明とは後者の意味にあたるため，argumentという語が用いられている．

---
## 2) p.21のKZGにおいて、コミットメントに秘匿性（i.e., ゼロ知識性）を与えるにはどうすれば良いでしょうか？具体的な構築方法を調べて説明してみましょう。
コミットメントにランダム性を加えることでゼロ知識性を達成することができる．例えばコミットメントCを単に
$$
C = g^{f(a)}
$$
と計算するのではなく，群の生成元$h$とランダムなd次多項式$t(a)$を用いて
$$
C = g^{f(a)} h^{t(a)}
$$
と計算することで，完全な秘匿性すなわちゼロ知識性を達成することができる．
[参考]
- https://eprint.iacr.org/2024/854.pdf
- https://www.youtube.com/watch?v=A0oZVEXav24&t=4567s

---
## 3) f(a, b) = 5 * (a * b - a) + 2 * b を PLONK が適用できる形（i.e., 複数の一変量多項式）に途中経過をわかりやすく明示しながら変換してみましょう。

与えら得れた多項式は以下の図のように算術回路で表すことができる。

```mermaid
graph TD
  I1[a] --> M1(mul gate#0)
  I2[b] --> M1(mul gate#0)
  M1(mul gate#0) --> A1(add gate#1)
  I3[-a] --> A1(add gate#1)
  A1(add gate#1) --> M2(mul gate#2)
  I4[5] --> M2(mul gate#2)
  I5[2] --> M3(mul gate#3)
  I2[b] --> M3(mul gate#3)
  M2(mul gate#2) --> A2(add gate#4)
  M3(mul gate#3) --> A2(add gate#4)
  
```
このとき，算術回路のゲート制約を表す表は以下のようになる．  
|gate#|qL|qR|qM|qO|qc|
|---|---|---|---|---|---|
|0|0|0|1|-1|0
|1|1|1|0|-1|0
|2|0|0|1|-1|0
|3|0|0|1|-1|0
|4|1|1|0|-1|0
  
また，今，$a=2, b=3$だとすると，各ゲートの入出力は以下のようになる．
|gate#|L|R|O|
|---|---|---|---|
|0|2|3|6|
|1|6|-2|4|
|2|4|5|20|
|3|2|3|6|
|4|20|6|26|

さらに，各ゲートgate#iに$\omega^i$を割り当て，左入力，右入力，出力であるときにそれぞれ，$k_0, k_1, k_2$を掛けると，繋がりを表す表は以下のようになる．  
|gate#|$\sigma_{L}$|$\sigma_{R}$|$\sigma_{O}$|
|---|---|---|---|
|0|$\omega^0k_0$|$\omega^3k_1$|$\omega^0k_2$|
|1|$\omega$^1k_0|$\omega^1k_1$|$\omega^1k_2$|
|2|$\omega^2k_0$|$\omega^2k_1$|$\omega^2k_2$|
|3|$\omega^3k_0$|$\omega^0k_0$|$\omega^3k_2$|
|4|$\omega^4k_0$|$\omega^4k_1$|$\omega^4k_2$|      

今回の回路では，gate#0の右入力とgate#3の右入力が共有されているため，$\omega^0k_1$と$\omega^3k_1$の位置が入れ替わっている．  
ここで，上の3つの表のgate#以外の，あるカラム$c$の中でgate#iに対応する値を$c_i$とすると，各カラムに対して$(\omega^0, c_0),(\omega^1,c_1),(\omega^2,c_2),(\omega^3,c_3),(\omega^4,c_4)$が得られる．この５点を通る多項式を合計11個のカラム全てに対して求めることで，与えられた多項式を$\omega$の多項式によって表すことができる．

---

## 4) p.52におけるパブリックインプット・アウトプットの証明をたった1つのKZG評価証明で行うにはどうすれば良いか、調べて説明してみましょう。
→ ヒント: ゼロテスト（p.53~p.54）を用いる。  
パブリックインプット・アウトプットの証明に対して，スライドp53,54で行われているゲート制約に対するbatch proofを同様に適用する．  
回路のインプット(アウトプット)$IO$のうち，パブリックなものの値を$PIO_{value} = \{value_j\} $, 対応するグローバルインデックスを$PIO_{index} = \{ \omega_{j}` \}$と置く. ここで，次の多項式$v$ を多項式補完によって生成する 
$$
v( \omega_{j}' ) = value_j
$$
3つのwitness-polynomialのうち、L(x)のパブリックインプット・アウトプットの証明について考えると，L(x)がパブリックインプット・アウトプットを正しくエンコードしているとき，$L(\omega_{j}') = value_j$である．
よって，
$$
\forall \omega_{j}' \in PIO_{index}, L(\omega_{j}') = v(\omega_{j}') 
$$
すなわち，
$$
\forall \omega_{j}' \in PIO_{index}, L(\omega_{j}') - v(\omega_{j}') = 0
$$
である．よって，$L(x)-v(x)$ は多項式$I(x) = \prod_{PIO_{index}} (x-\omega_{j}')$によって割り切ることができる．すなわち，
$$
L(x) - v(x) = I(x) q(x)
$$  
なるq(x)が存在する．
あとは，$f(x) = L(x) - v(x)$, $Z(x) = I(x)$と考えて，p53-54と同様の証明を行えば，L(x)に関するパブリックインプット・アウトプットの証明は完了する．
以上と同様のことをR, Oに対しても行うことで，回路全体のパブリックインプット・アウトプットの証明が完了する．      
[参考]  
- https://www.youtube.com/watch?v=A0oZVEXav24&t=4567s
- https://youtu.be/vxyoPM2m7Yg?si=QQ9jJ0XlCnnYlIbL
- https://arnaucube.com/blog/kzg-batch-proof.html 

---